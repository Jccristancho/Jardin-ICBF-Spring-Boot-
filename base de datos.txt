CREATE DATABASE Asociacion_ICBF;
USE Asociacion_ICBF;






CREATE TABLE Registro_Jardin (
    Identificador_Jardin INT AUTO_INCREMENT PRIMARY KEY not null,
    Nombre_jardin VARCHAR(45) NOT NULL,
    Direccion_j VARCHAR(45) NOT NULL,
    Estado VARCHAR(45) NOT NULL
);


CREATE TABLE Datos_Ninos(
Registro int PRIMARY KEY auto_increment null,
Identificacion_acudiente int Unique not null,
Nombre_n varchar(45) not null,
Fecha_nacimiento date not null,
Tipo_sangre varchar(45) not null,
Ciudad_nacimiento varchar(45) not null,
Telefono int not null,
Direccion_n varchar(45) not null,
EPS varchar(45) not null,
Identificador_Jardin int(11) not null,
FOREIGN KEY (Identificador_Jardin) REFERENCES Registro_Jardin(Identificador_Jardin)
);


CREATE TABLE Usuarios (
    ID_usuario int PRIMARY KEY AUTO_INCREMENT,
    Nombre_usuario varchar(45) NOT NULL,
    Contraseña varchar(45) NOT NULL,
    email varchar(45) NOT NULL,
    identificacion_acudiente int NOT NULL,
    Rol ENUM('administrador', 'madre_comunitaria', 'acudiente', 'registrador') NOT NULL,
    FOREIGN KEY (identificacion_acudiente) REFERENCES Datos_Ninos(Identificacion_acudiente)
);


CREATE TABLE Registro_Acudientes(
Nombre_a varchar(45) PRIMARY KEY not null,
Cedula_a int(11) not null,
Telefono_a int(11) not null,
Celular_a int(11) not null,
Direccion_a varchar(45) not null,
Correo_a varchar(45) not null,
ID_usuario int not null,
    FOREIGN KEY (ID_usuario) REFERENCES Usuarios(ID_usuario)
);






CREATE TABLE Registro_MadresComunitaras(
id_madre_comunitaria int(11) PRIMARY KEY not null,
Nombre_m varchar(45) not null,
Telefono_m int(11) not null,
Direccion_m varchar(45) not null,
Fecha_nacimiento_m date not null,
ID_usuario int not null,
FOREIGN KEY (ID_usuario) REFERENCES Usuarios(ID_usuario)
);




CREATE TABLE Registro_Asistencia(
Registro int not null,
Fecha date not null,
Motivo text(250) not null
);


CREATE TABLE Registro_Academico(
Registro_N int auto_increment primary key not null,
Nivel varchar(11) not null,
Notas int not null,
Descripcion text(250) not null,
Fecha_entrega date not null
);




INSERT INTO Registro_Jardin (Identificador_Jardin, Nombre_jardin, Direccion_j, Estado) VALUES
(1, 'Jardín Infantil Alegre', 'Calle 123, Barrio Feliz', 'Activo'),
(2, 'Jardín de Colores', 'Avenida 456, Barrio Jovial', 'Inactivo'),
(3, 'Jardín de Juegos Divertidos', 'Carrera 789, Barrio Alegre', 'Activo'),
(4, 'Jardín Educativo Sonrisas', 'Calle 321, Barrio Contento', 'Activo'),
(5, 'Jardín Pequeños Exploradores', 'Avenida 654, Barrio Encantado', 'Inactivo'),
(6, 'Jardín Risueño', 'Calle 987, Barrio Feliz', 'Activo'),
(7, 'Jardín de Aprendizaje Creativo', 'Carrera 234, Barrio Divertido', 'Inactivo'),
(8, 'Jardín Felicidad Infantil', 'Avenida 567, Barrio Encantador', 'Activo'),
(9, 'Jardín de Sueños Felices', 'Calle 876, Barrio Jocoso', 'Activo'),
(10, 'Jardín del Conocimiento', 'Carrera 543, Barrio Encantado', 'Inactivo');